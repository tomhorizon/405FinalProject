<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ME 405 Final Project: C:/Users/dylan/OneDrive/Documents/GitHub/405FinalProject/src/DuelMainFile.py File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ME 405 Final Project<span id="projectnumber">&#160;0.1.0</span>
   </div>
   <div id="projectbrief">Contains software to control a heat-seaking Nerf turret to capture, aim at, and shoot a target</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('_duel_main_file_8py.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">DuelMainFile.py File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This file is for ME 405's final project demonstration, in which two competing teams carry out a duel between heat-seaking Nerf turrets.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a0d91f276956503e2421c5a0839d4cc81"><td class="memItemLeft" align="right" valign="top"><a id="a0d91f276956503e2421c5a0839d4cc81" name="a0d91f276956503e2421c5a0839d4cc81"></a>
pyb&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.motor1Pin1</b> = pyb.Pin.board.PB5</td></tr>
<tr class="separator:a0d91f276956503e2421c5a0839d4cc81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05f88386267e74a01937e84e7850d443"><td class="memItemLeft" align="right" valign="top"><a id="a05f88386267e74a01937e84e7850d443" name="a05f88386267e74a01937e84e7850d443"></a>
pyb&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.motor1Pin2</b> = pyb.Pin.board.PA10</td></tr>
<tr class="separator:a05f88386267e74a01937e84e7850d443"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f42d27eb1e7bb2d7fe099d1c8820e64"><td class="memItemLeft" align="right" valign="top"><a id="a7f42d27eb1e7bb2d7fe099d1c8820e64" name="a7f42d27eb1e7bb2d7fe099d1c8820e64"></a>
pyb&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.motor1Ena</b> = pyb.Pin.board.PB3</td></tr>
<tr class="separator:a7f42d27eb1e7bb2d7fe099d1c8820e64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade4fd10009db05aa70b159990ca0eccd"><td class="memItemLeft" align="right" valign="top"><a id="ade4fd10009db05aa70b159990ca0eccd" name="ade4fd10009db05aa70b159990ca0eccd"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.motor1Tim</b> = 2</td></tr>
<tr class="separator:ade4fd10009db05aa70b159990ca0eccd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acacb4889732d9308ea290e4f74c2441a"><td class="memItemLeft" align="right" valign="top"><a id="acacb4889732d9308ea290e4f74c2441a" name="acacb4889732d9308ea290e4f74c2441a"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.motor1Ch1</b> = 2</td></tr>
<tr class="separator:acacb4889732d9308ea290e4f74c2441a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea0f19f84ae6ad50ae8984e2c0e30740"><td class="memItemLeft" align="right" valign="top"><a id="aea0f19f84ae6ad50ae8984e2c0e30740" name="aea0f19f84ae6ad50ae8984e2c0e30740"></a>
pyb&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.motor2Pin1</b> = pyb.Pin.board.PA1</td></tr>
<tr class="separator:aea0f19f84ae6ad50ae8984e2c0e30740"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61e65bd8543db1293eb160df91afde80"><td class="memItemLeft" align="right" valign="top"><a id="a61e65bd8543db1293eb160df91afde80" name="a61e65bd8543db1293eb160df91afde80"></a>
pyb&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.motor2Pin2</b> = pyb.Pin.board.PC1</td></tr>
<tr class="separator:a61e65bd8543db1293eb160df91afde80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4f75cb20ac21f7c64faa827eafccd1e"><td class="memItemLeft" align="right" valign="top"><a id="ad4f75cb20ac21f7c64faa827eafccd1e" name="ad4f75cb20ac21f7c64faa827eafccd1e"></a>
pyb&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.motor2Ena</b> = pyb.Pin.board.PA0</td></tr>
<tr class="separator:ad4f75cb20ac21f7c64faa827eafccd1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7662d8f1d81df870c9492225848ac22c"><td class="memItemLeft" align="right" valign="top"><a id="a7662d8f1d81df870c9492225848ac22c" name="a7662d8f1d81df870c9492225848ac22c"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.motor2Tim</b> = 5</td></tr>
<tr class="separator:a7662d8f1d81df870c9492225848ac22c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a380c4acbf2f4445ccaf50ce64d103110"><td class="memItemLeft" align="right" valign="top"><a id="a380c4acbf2f4445ccaf50ce64d103110" name="a380c4acbf2f4445ccaf50ce64d103110"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.motor2Ch1</b> = 1</td></tr>
<tr class="separator:a380c4acbf2f4445ccaf50ce64d103110"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac39fa2555bd3db6ed4e8de8adc6b6b04"><td class="memItemLeft" align="right" valign="top"><a id="ac39fa2555bd3db6ed4e8de8adc6b6b04" name="ac39fa2555bd3db6ed4e8de8adc6b6b04"></a>
pyb&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.encoder1Pin1</b> = pyb.Pin.board.PB6</td></tr>
<tr class="separator:ac39fa2555bd3db6ed4e8de8adc6b6b04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc5e0d95291a63e0b71d70ade215fd4f"><td class="memItemLeft" align="right" valign="top"><a id="adc5e0d95291a63e0b71d70ade215fd4f" name="adc5e0d95291a63e0b71d70ade215fd4f"></a>
pyb&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.encoder1Pin2</b> = pyb.Pin.board.PB7</td></tr>
<tr class="separator:adc5e0d95291a63e0b71d70ade215fd4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af78732945445127e2ebed87590ba1c57"><td class="memItemLeft" align="right" valign="top"><a id="af78732945445127e2ebed87590ba1c57" name="af78732945445127e2ebed87590ba1c57"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.encoder1Tim</b> = 4</td></tr>
<tr class="separator:af78732945445127e2ebed87590ba1c57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23549f6c07cfd8514642a08a13af55ab"><td class="memItemLeft" align="right" valign="top"><a id="a23549f6c07cfd8514642a08a13af55ab" name="a23549f6c07cfd8514642a08a13af55ab"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.encoder1Ch1</b> = 1</td></tr>
<tr class="separator:a23549f6c07cfd8514642a08a13af55ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cec310417c766bd698c793df09f1408"><td class="memItemLeft" align="right" valign="top"><a id="a9cec310417c766bd698c793df09f1408" name="a9cec310417c766bd698c793df09f1408"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.encoder1Ch2</b> = 2</td></tr>
<tr class="separator:a9cec310417c766bd698c793df09f1408"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6eb028710f435f016fd3315d85515dc8"><td class="memItemLeft" align="right" valign="top"><a id="a6eb028710f435f016fd3315d85515dc8" name="a6eb028710f435f016fd3315d85515dc8"></a>
pyb&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.encoder2Pin1</b> = pyb.Pin.board.PC6</td></tr>
<tr class="separator:a6eb028710f435f016fd3315d85515dc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d430aa7e0f92d24486c66f0d97b37c5"><td class="memItemLeft" align="right" valign="top"><a id="a7d430aa7e0f92d24486c66f0d97b37c5" name="a7d430aa7e0f92d24486c66f0d97b37c5"></a>
pyb&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.encoder2Pin2</b> = pyb.Pin.board.PC7</td></tr>
<tr class="separator:a7d430aa7e0f92d24486c66f0d97b37c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a502238f8139b1620e377b49fc0b58fc7"><td class="memItemLeft" align="right" valign="top"><a id="a502238f8139b1620e377b49fc0b58fc7" name="a502238f8139b1620e377b49fc0b58fc7"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.encoder2Tim</b> = 8</td></tr>
<tr class="separator:a502238f8139b1620e377b49fc0b58fc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fbefca4a145656766148575850c2db6"><td class="memItemLeft" align="right" valign="top"><a id="a5fbefca4a145656766148575850c2db6" name="a5fbefca4a145656766148575850c2db6"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.encoder2Ch1</b> = 1</td></tr>
<tr class="separator:a5fbefca4a145656766148575850c2db6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a732de84dccdff84209e76fc1c33f91f0"><td class="memItemLeft" align="right" valign="top"><a id="a732de84dccdff84209e76fc1c33f91f0" name="a732de84dccdff84209e76fc1c33f91f0"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.encoder2Ch2</b> = 2</td></tr>
<tr class="separator:a732de84dccdff84209e76fc1c33f91f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3edcc5bb73b43e79e5096ce704677d4"><td class="memItemLeft" align="right" valign="top"><a id="ad3edcc5bb73b43e79e5096ce704677d4" name="ad3edcc5bb73b43e79e5096ce704677d4"></a>
pyb&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.servoPin</b> = pyb.Pin.board.PC9</td></tr>
<tr class="separator:ad3edcc5bb73b43e79e5096ce704677d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fc3427a49cacd7c1f61b41457817059"><td class="memItemLeft" align="right" valign="top"><a id="a3fc3427a49cacd7c1f61b41457817059" name="a3fc3427a49cacd7c1f61b41457817059"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.servoTim</b> = 3</td></tr>
<tr class="separator:a3fc3427a49cacd7c1f61b41457817059"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5147aaecdac86806fe0c6de28e1725a1"><td class="memItemLeft" align="right" valign="top"><a id="a5147aaecdac86806fe0c6de28e1725a1" name="a5147aaecdac86806fe0c6de28e1725a1"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.servoCh</b> = 4</td></tr>
<tr class="separator:a5147aaecdac86806fe0c6de28e1725a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97a181848bb7dcf893358740322ea53f"><td class="memItemLeft" align="right" valign="top"><a id="a97a181848bb7dcf893358740322ea53f" name="a97a181848bb7dcf893358740322ea53f"></a>
pyb&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.buzzerPin</b> = pyb.Pin.board.PA9</td></tr>
<tr class="separator:a97a181848bb7dcf893358740322ea53f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9abf61967376e5f5c7a3c8a81809c88b"><td class="memItemLeft" align="right" valign="top"><a id="a9abf61967376e5f5c7a3c8a81809c88b" name="a9abf61967376e5f5c7a3c8a81809c88b"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.buzzerTimer</b> = 1</td></tr>
<tr class="separator:a9abf61967376e5f5c7a3c8a81809c88b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97c88cdd17143b64d6e3a4ad2097a7e1"><td class="memItemLeft" align="right" valign="top"><a id="a97c88cdd17143b64d6e3a4ad2097a7e1" name="a97c88cdd17143b64d6e3a4ad2097a7e1"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.buzzerChannel</b> = 2</td></tr>
<tr class="separator:a97c88cdd17143b64d6e3a4ad2097a7e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2d3004e3b18f19b14c65f17ccc5b4f0"><td class="memItemLeft" align="right" valign="top"><a id="af2d3004e3b18f19b14c65f17ccc5b4f0" name="af2d3004e3b18f19b14c65f17ccc5b4f0"></a>
pyb&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.LEDpin</b> = pyb.Pin.board.PA8</td></tr>
<tr class="separator:af2d3004e3b18f19b14c65f17ccc5b4f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f56891e4b46aeb3b7b49c34554f8daf"><td class="memItemLeft" align="right" valign="top"><a id="a5f56891e4b46aeb3b7b49c34554f8daf" name="a5f56891e4b46aeb3b7b49c34554f8daf"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.LEDtimer</b> = 1</td></tr>
<tr class="separator:a5f56891e4b46aeb3b7b49c34554f8daf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad739078293bd0b2b5329418d4a5775dd"><td class="memItemLeft" align="right" valign="top"><a id="ad739078293bd0b2b5329418d4a5775dd" name="ad739078293bd0b2b5329418d4a5775dd"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.LEDchannel</b> = 1</td></tr>
<tr class="separator:ad739078293bd0b2b5329418d4a5775dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bcb1d014a16246f8dd12639c5de9baa"><td class="memItemLeft" align="right" valign="top"><a id="a7bcb1d014a16246f8dd12639c5de9baa" name="a7bcb1d014a16246f8dd12639c5de9baa"></a>
pyb&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.flywheelPin1</b> = pyb.Pin.board.PC5</td></tr>
<tr class="separator:a7bcb1d014a16246f8dd12639c5de9baa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1321ae8e04a5d67634ccf2ba9ec66660"><td class="memItemLeft" align="right" valign="top"><a id="a1321ae8e04a5d67634ccf2ba9ec66660" name="a1321ae8e04a5d67634ccf2ba9ec66660"></a>
pyb&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.flywheelPin2</b> = pyb.Pin.board.PB8</td></tr>
<tr class="separator:a1321ae8e04a5d67634ccf2ba9ec66660"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0817de16c4f88851ea62553937e67981"><td class="memItemLeft" align="right" valign="top"><a id="a0817de16c4f88851ea62553937e67981" name="a0817de16c4f88851ea62553937e67981"></a>
pyb&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.flywheelEna</b> = pyb.Pin.board.PC8</td></tr>
<tr class="separator:a0817de16c4f88851ea62553937e67981"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af72247a9afea197cadd03d585d8db999"><td class="memItemLeft" align="right" valign="top"><a id="af72247a9afea197cadd03d585d8db999" name="af72247a9afea197cadd03d585d8db999"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.flywheelTim</b> = 3</td></tr>
<tr class="separator:af72247a9afea197cadd03d585d8db999"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc2c54c85971228fbfd50faa64e54ac3"><td class="memItemLeft" align="right" valign="top"><a id="adc2c54c85971228fbfd50faa64e54ac3" name="adc2c54c85971228fbfd50faa64e54ac3"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.flywheelCh</b> = 3</td></tr>
<tr class="separator:adc2c54c85971228fbfd50faa64e54ac3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56b1e3f007bb30603109f8ab18d375a6"><td class="memItemLeft" align="right" valign="top"><a id="a56b1e3f007bb30603109f8ab18d375a6" name="a56b1e3f007bb30603109f8ab18d375a6"></a>
pyb&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.goButtonPin</b> = pyb.Pin.board.PA15</td></tr>
<tr class="separator:a56b1e3f007bb30603109f8ab18d375a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e64373f7bd6be1a0e4635e2a9680518"><td class="memItemLeft" align="right" valign="top"><a id="a6e64373f7bd6be1a0e4635e2a9680518" name="a6e64373f7bd6be1a0e4635e2a9680518"></a>
MotorDriver2&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.motor1</b> = MotorDriver2(motor1Pin1, motor1Pin2, motor1Ena, motor1Tim, motor1Ch1)</td></tr>
<tr class="separator:a6e64373f7bd6be1a0e4635e2a9680518"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab825fe96bd25c376cd84db7ccb514d0c"><td class="memItemLeft" align="right" valign="top"><a id="ab825fe96bd25c376cd84db7ccb514d0c" name="ab825fe96bd25c376cd84db7ccb514d0c"></a>
MotorDriver2&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.motor2</b> = MotorDriver2(motor2Pin1, motor2Pin2, motor2Ena, motor2Tim, motor2Ch1)</td></tr>
<tr class="separator:ab825fe96bd25c376cd84db7ccb514d0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8428841c5abcf38fc97ae218fb10240d"><td class="memItemLeft" align="right" valign="top"><a id="a8428841c5abcf38fc97ae218fb10240d" name="a8428841c5abcf38fc97ae218fb10240d"></a>
MotorDriver2&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.flywheel</b> = MotorDriver2(flywheelPin1, flywheelPin2, flywheelEna, flywheelTim, flywheelCh)</td></tr>
<tr class="separator:a8428841c5abcf38fc97ae218fb10240d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a730b665baa15e7be4ff774ccdc3bc57a"><td class="memItemLeft" align="right" valign="top"><a id="a730b665baa15e7be4ff774ccdc3bc57a" name="a730b665baa15e7be4ff774ccdc3bc57a"></a>
EncoderReader&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.encoder1</b> = EncoderReader(encoder1Pin1, encoder1Pin2, encoder1Tim, encoder1Ch1, encoder1Ch2)</td></tr>
<tr class="separator:a730b665baa15e7be4ff774ccdc3bc57a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98be0dfd688347cece58b76caed115d3"><td class="memItemLeft" align="right" valign="top"><a id="a98be0dfd688347cece58b76caed115d3" name="a98be0dfd688347cece58b76caed115d3"></a>
EncoderReader&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.encoder2</b> = EncoderReader(encoder2Pin1, encoder2Pin2, encoder2Tim, encoder2Ch1, encoder2Ch2)</td></tr>
<tr class="separator:a98be0dfd688347cece58b76caed115d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dad3713761ebd3de9d533422a545dab"><td class="memItemLeft" align="right" valign="top"><a id="a6dad3713761ebd3de9d533422a545dab" name="a6dad3713761ebd3de9d533422a545dab"></a>
Servo&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.servo</b> = Servo(servoPin, servoTim, servoCh)</td></tr>
<tr class="separator:a6dad3713761ebd3de9d533422a545dab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a45f4ce95c06e4787c154771e2b86b4"><td class="memItemLeft" align="right" valign="top"><a id="a1a45f4ce95c06e4787c154771e2b86b4" name="a1a45f4ce95c06e4787c154771e2b86b4"></a>
FireLED&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.LED</b> = FireLED(LEDpin, LEDtimer, LEDchannel)</td></tr>
<tr class="separator:a1a45f4ce95c06e4787c154771e2b86b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0396cdbae2cd10b1facb719e187da956"><td class="memItemLeft" align="right" valign="top"><a id="a0396cdbae2cd10b1facb719e187da956" name="a0396cdbae2cd10b1facb719e187da956"></a>
Buzzer&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.alarm</b> = Buzzer(buzzerPin, buzzerTimer, buzzerChannel)</td></tr>
<tr class="separator:a0396cdbae2cd10b1facb719e187da956"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50060a4b328308ca64d6bd890836fc3e"><td class="memItemLeft" align="right" valign="top"><a id="a50060a4b328308ca64d6bd890836fc3e" name="a50060a4b328308ca64d6bd890836fc3e"></a>
GoButton&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.goButton</b> = GoButton(goButtonPin)</td></tr>
<tr class="separator:a50060a4b328308ca64d6bd890836fc3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24c84b19100861b0421c837abf297b15"><td class="memItemLeft" align="right" valign="top"><a id="a24c84b19100861b0421c837abf297b15" name="a24c84b19100861b0421c837abf297b15"></a>
I2C&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.i2c_bus</b> = I2C(2)</td></tr>
<tr class="separator:a24c84b19100861b0421c837abf297b15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af624c882c1d01979d02fcb6a883e3d94"><td class="memItemLeft" align="right" valign="top"><a id="af624c882c1d01979d02fcb6a883e3d94" name="af624c882c1d01979d02fcb6a883e3d94"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.i2c_address</b> = 0x33</td></tr>
<tr class="separator:af624c882c1d01979d02fcb6a883e3d94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a239fd8e55949c8f31957fca92589b68e"><td class="memItemLeft" align="right" valign="top"><a id="a239fd8e55949c8f31957fca92589b68e" name="a239fd8e55949c8f31957fca92589b68e"></a>
MLX_Cam&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.camera</b> = MLX_Cam(i2c_bus)</td></tr>
<tr class="separator:a239fd8e55949c8f31957fca92589b68e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e91005842782ea9ed372b4d0b48895a"><td class="memItemLeft" align="right" valign="top"><a id="a7e91005842782ea9ed372b4d0b48895a" name="a7e91005842782ea9ed372b4d0b48895a"></a>
Turret&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.turret</b> = Turret(motor1, motor2, encoder1, encoder2, flywheel, servo, LED, alarm, camera, goButton)</td></tr>
<tr class="separator:a7e91005842782ea9ed372b4d0b48895a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79726ab180285993602734ca4e0bdae7"><td class="memItemLeft" align="right" valign="top"><a id="a79726ab180285993602734ca4e0bdae7" name="a79726ab180285993602734ca4e0bdae7"></a>
time&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.initTime</b> = time.ticks_ms()</td></tr>
<tr class="separator:a79726ab180285993602734ca4e0bdae7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad546b9d499a002f0ced519fc699b3e5a"><td class="memItemLeft" align="right" valign="top"><a id="ad546b9d499a002f0ced519fc699b3e5a" name="ad546b9d499a002f0ced519fc699b3e5a"></a>
list&#160;</td><td class="memItemRight" valign="bottom"><b>DuelMainFile.xrange</b> = [6, 26]</td></tr>
<tr class="separator:ad546b9d499a002f0ced519fc699b3e5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file is for ME 405's final project demonstration, in which two competing teams carry out a duel between heat-seaking Nerf turrets. </p>
<p>The goal of a duel is to be the first to hit an opposing target, without missing a shot (penalty). A heat-seaking nerf turret uses an MLX90640 infrared camera to find a target based off its heat signature, two motors to control the yaw and pitch of the turret, two constantly-spinning flywheel motors to launch the darts, a servo to actuate the firing pin, and a set of LED's and a beeper for human interaction.</p>
<p><b>Yaw-Axis:</b> The yaw axis is controlled by a 50:1 metal, geared-down, encoded, 24V DC brushed motor with a maximum RPM of 200. This motor uses a timing pulley system at a 4:1 gear ratio to control the lateral aim of the turret. A Kyuionty L298 DC Motor Driver is used to control the motor through pulse-width modification. The yaw motor is initialized as an object of class MotorDriver2 and controlled using PID control in class Control2 to act as a servo.</p>
<p><b>Pitch-Axis:</b> The pitch axis is configured similarly to the yaw-axis. It is controlled by a 50:1 metal, geared-down, encoded, 24V DC brushed motor with a macimum RPM of 200. The motor uses a pulley timing system with a 4:1 gear ratio to control the vertical aim of the turret. The pitch motor is initialized as an object of class MotorDriver2 and controlled using PID control to act as a servo.</p>
<p><b>Motor Control:</b> Both the yaw and pitch motors are controled using PID control to act as positional servos. PID control stands for proportional, integral, and derivataive control, and is used to modify the response of a motor. Proportional control is the simplest form of motor control. It calculates the system error ("goal" encoder value - actual encoder value) and multiplies it by a constant, Kp, to modify how much effort the motor applies to reach its goal. Integral control is used to modify the steady-state condition of the motor and to eliminate steady state error. It involves continuously summing the error and dividing it by the change in time, and using that value to adjust the control inputs. As time goes on, the effect of integral control increases. Derivative control uses the rate of change of the error to adjust the system's control inputs. It is best used to control the transient response of a system, which is when the error's rate of change is the highest. Using PID control allows the turret to respond more quickly and accurately, imrpoving the aim and speed of the system.</p>
<p><b>Flywheels:</b> The flywheel motors are 24V DC Brushed Motors with a maximum rpm of 20000 at 24V. They are controlled with PWM by a motor driver which sends the same signal to both motors (in opposite direction). The flywheels have a radius of 2.5 inches, meaning the velocity at the contact point between the Nerf Dart and the flywheel is equal tot he angular velocity (in radians/sec) * 3. Therefore, at its maximum rpm of 12000, the contact point velocity would be ~ 440 fps [feet per sercond]. In order to operate the turret under safe conditions, the flywheelse idle at a duty cycle of 5% and ramp up to 10% to fire at a safe velocity.</p>
<p><b>Servo:</b> A metal-geared high-torque DC servo is used to control the actuation of the firing pin. Controlling a DC servo is different than controlling a DC motor to act as a servo because the DC servo is already configured to be positionally controlled. PWM duty cycles are sent through the servo's signal wire to control the position of the servo.</p>
<p><b>Buzzer/LED's:</b> A buzzer is used to allow for better human-turret interaction. Different beep sequences are used to communicate when the turret is waiting for a pushbutton input, when it has received that input, and which mode it is in. LED's are also mounted on the barrel of the turret to communicate in a similar manner.</p>
<p><b>MLX90640 IR Camera:</b> An MLX90640 Infrared Camera is mounted to the barrel of the turret, and is used to locate a target and return setpoints for the yaw and pitch motors. When the camera takes an image, it returns a 24 x 32 array of values, corresponding to heat signature. Dr. Ridgley provided the mlx_cam driver with functionality to configure the camera via I2C, capture an image, and scale/process the data into a pixel map, an ascii art image, and a csv data file. The camera takes ~400-600 ms to capture an image. Once the image is captured, the data is scaled, and then a target can be found. In general, humans have a higher heat signature than their surroundings in a classroom.</p>
<p><b>Targeting &amp; Aiming:</b> The targeting algorithm can be found in the file mlx_cam.py in the mlx_raw folder of the directory. The main strategy applied in that algorithm favors targets with a vertical aspect ratio (humans are generally taller than they are wide). The strategy is as follows:</p><ol type="1">
<li>Index through the searchable columns of the 2D pixel array. In each column, sum the square of the pixel value of any pixel that is above a pre-defined threshold. The column with the greatest sum is set as the horizontal position of the target. Having the threshold value and squaring each pixel value before they are added to the sum means that warmer pixels have a higher weight, meaning a column with a few "very hot" pixels will likely have a larger sum than one with many warm pixels. This locates the horizontal center of the person.</li>
<li>In the column with the highest sum, search for the pixel with the highest value. Multiple pixels on the target in that column may have the same maximum value. The search is conducted vertically (top to bottom), so each pixel value that matches the hottest value overwrites the old one. In general, this will aim for the vertical center of the target.</li>
</ol>
<p>*Note: Only columns 6 --&gt; 26 and rows 4 --&gt; 15 are searched. When looking for a target, the turret is aimed down the center of the duel table. Removing the outer pixels from the search causes the turret to only search for a target in the pre-defined area that a target is allowed to stand.</p>
<p><b>Duel Proceedings:</b> Before running <a class="el" href="_duel_main_file_8py.html" title="This file is for ME 405&#39;s final project demonstration, in which two competing teams carry out a duel ...">DuelMainFile.py</a>, <b>ensure that motor power is switched off</b> and that the turret is spun around, facing the opposite direction of the target. Once the code has begun and all pins have been initialized, the user is prompted to push the pushbutton to run the turret's "wakeUp()" function in which it commences shakedown. Ensure that all motors and the servo actuated and returned to their previous position. The turret is now ready to begin a duel.</p>
<p>At the "start" signal from the duel operator, the push button must be compressed to begin the turret's duel cycle. The turret will spin 180 degrees counterclockwise to face the target. During the first 5 seconds of the duel, the targets are allowed to move. Due to the limitations of the camera and driver provided, it takes roughly 650-850 ms to capture an image, find the target, and aim the turret at it. This rate is too slow to actively track and shoot a moving target, so the turret sits in idle. After the 5 second period is over and the targets have been instructed to "freeze", the turret captures an image and finds the target (400-600 ms), aims towards the position provided by the targeting algorithm (250 ms), and fires.</p>
<p>Once the turret has fired, it enters "sleep" mode by decreasing the idle speed of the flywheels and returning to its home position (facing away from the target). From that point, the pushbutton may be engaged again at the beginning of the duel.</p>
<p>A note on code structure: Our team elected to not use multitasking to conduct the duel. Since the order of proceedings was fairly preset (turn 180 --&gt; wait 5 seconds --&gt; get image --&gt; find target --&gt; aim --&gt; shoot), electing to not use multitasking allowed for direct modificaiton of the exact activity of the turret during a duel at any point in time.</p>
<dl class="section author"><dt>Author</dt><dd>Tom Taylor </dd>
<dd>
Jonathan Fraser </dd>
<dd>
Dylan Weiglein</dd></dl>
<dl class="section date"><dt>Date</dt><dd>2023-3-16 </dd></dl>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="_duel_main_file_8py.html">DuelMainFile.py</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
